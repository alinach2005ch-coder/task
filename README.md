# Task Service

## Описание проекта

Task Service — backend‑приложение на Spring Boot, реализующее REST API для управления задачами. Проект создан в рамках практики Java backend‑разработки и демонстрирует подходы, применяемые в реальных коммерческих приложениях.

Сервис позволяет создавать задачи, управлять их жизненным циклом, назначать исполнителей, выполнять фильтрацию и применять бизнес‑ограничения.

---

## Функциональность

- Создание задач
- Получение списка задач с фильтрацией
- Получение задачи по идентификатору
- Обновление задачи
- Удаление задачи
- Управление статусами задач:

   * CREATED
   * IN_PROGRESS
   * DONE

---

## Бизнес‑правила

В проекте реализована доменная бизнес‑логика:

- Задачу со статусом DONE нельзя обновлять
- Задача не может быть переведена в статус IN_PROGRESS, если:

  - не назначен исполнитель
  - у исполнителя уже есть 4 активные задачи в статусе IN_PROGRESS
- Задачу нельзя завершить (DONE), если:

  - не назначен исполнитель
  - не указан дедлайн
-Дата дедлайна не может быть в прошлом
- При завершении задачи фиксируется время выполнения (doneDateTime)

---

## Используемые технологии

- Java 17
- Spring Boot
- Spring Web (REST API)
- Spring Data JPA
- Hibernate
- Jakarta Validation
- PostgreSQL / H2 (для тестов)
- JUnit 5
- Mockito
- MockMvc
- Maven

---

## Архитектура

Проект построен с использованием классической слоистой архитектуры:

- Controller — обработка HTTP‑запросов
- Service — бизнес‑логика приложения
- Repository — доступ к данным с использованием JPA
- DTO — передача данных между слоями
- Mapper — преобразование Entity ↔ DTO
- GlobalExceptionHandler — централизованная обработка ошибок

---

## REST API

### Создание задачи

POST /tasks

### Получение списка задач

GET /tasks

Параметры фильтрации (необязательные):

- creatorId
- assignedUserId
- status
- priority
- pageSize
- pageNum

### Получение задачи по идентификатору

GET /tasks/{id}

### Обновление задачи

PUT /tasks/{id}

### Удаление задачи

DELETE /tasks/{id}

### Перевод задачи в работу

POST /tasks/{id}/start

### Завершение задачи

POST /tasks/{id}/complete

---

## Валидация и обработка ошибок

- Валидация входных данных реализована с использованием Jakarta Validation и аннотации @Valid
- Используется глобальный обработчик исключений (@ControllerAdvice)
- Все ошибки возвращаются в едином формате ответа:

```json
{
  "message": "Bad request",
  "detailedMessage": "You need assigned user",
  "errorTime": "2026-01-31T21:15:30"
}
```

---

## Тестирование

Проект покрыт автоматическими тестами:

### Unit‑тесты

- Тестирование бизнес‑логики слоя Service
- Использование Mockito для мокирования зависимостей

### Integration‑тесты

- Тестирование REST‑контроллеров с использованием MockMvc
- Проверка HTTP‑статусов и JSON‑ответов

---

## Цель проекта

Цель проекта — получение практических навыков разработки backend‑приложений на Java и демонстрация умения работать со Spring Boot, REST API, валидацией, бизнес‑логикой и тестированием.

---


